<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>Python Demo</title>
	<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="../static/css/main.css" />
</head>

<body>
<br><br>
<div class="container">
<div class="well col-xs-8 col-sm-8 col-md-8 col-lg-8 col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-lg-offset-2"> 
		<h2>User Administration <a href="/logout" class="btn btn-danger logout"><span class="glyphicon glyphicon-off"></a> <a href="/myaccount" class="btn btn-primary my-account">My Account</a></h2>
		
		<hr>
		{% for user in data %}
			<div class="row user-row">
		        <div class="col-xs-3 col-sm-2 col-md-1 col-lg-1">
		            <img class="img-circle resize" src="{{user[6]}}" alt="User Pic">
		        </div>
		        
		        <div class="col-xs-8 col-sm-9 col-md-10 col-lg-10">
		            <strong>{{user[1]}}</strong><br>
		            <span class="text-muted">{{user[4]}}</span>
		        </div>
		        
		        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 dropdown-user" data-for=".{{user[1]}}">
		            <i class="glyphicon glyphicon-chevron-down text-muted"></i>
		        </div>
		    </div>
		    
		    <div class="row user-infos {{user[1]}}">
		        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xs-offset-0 col-sm-offset-0 col-md-offset-1 col-lg-offset-1">
		            <div class="panel panel-primary">
		                <div class="panel-heading">
		                    <h3 class="panel-title">{{user[1]}}</h3>
		                </div>
		                <div class="panel-body">
		                    <div class="row">
		                        <div class=" col-md-9 col-lg-9">
			                            <p><b class="profile-title">Name:</b> {{user[2]}} {{user[3]}}</p>
			                            
			                            <p><b class="profile-title">Email:</b> {{user[4]}}</p>
		                        </div>
		                    </div>
		                </div>
		                <div class="panel-footer">
		                    <span class="pull-right">
		                        <button class="btn btn-sm btn-warning edit-user" type="button"
		                                data-title="Edit this user"
		                                data-id = "{{user[0]}}"
		                                data-username = "{{user[1]}}"
		                                data-firstname = "{{user[2]}}"
		                                data-lastname = "{{user[3]}}"
		                                data-email = "{{user[4]}}"
		                                data-avatar = "../static/uploads/{{user[6]}}"
		                                data-toggle="modal"
		                                data-target="#edit"><i class="glyphicon glyphicon-edit"></i></button>
		                        <button class="btn btn-sm btn-danger delete-user" type="button"
		                                data-title="Delete this user"
		                                data-id = "{{user[0]}}"
		                                data-toggle="modal"
		                                data-target="#delete"><i class="glyphicon glyphicon-trash"></i></button>
		                        <a href="/delete/{{id}}"></a>
		                    </span>
		                    <div style="clear: both;"></div>
		                </div>
		            </div>
		        </div>
		    </div>
		{% endfor %}
</div>
</div>

<!-- UPDATE MODAL -->
<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<form id="update-form" method="POST">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h4 class="modal-title custom_align" id="Heading">Edit User Details</h4>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<input class="form-control " name="tf_edit_firstname" id="tf_edit_firstname" type="text" placeholder="First Name">
				</div>
				<div class="form-group">
					<input class="form-control " name="tf_edit_lastname" id="tf_edit_lastname" type="text" placeholder="Last Name">
				</div>
				<div class="form-group">
					<input class="form-control " name="tf_edit_username" id="tf_edit_username" type="text" placeholder="Display Name">
				</div>
				<div class="form-group">
					<input class="form-control " name="tf_edit_email" id="tf_edit_email" type="text" placeholder="Email Address">
				</div>
			</div>
			<div class="modal-footer ">
				<button type="submit" class="btn btn-warning btn-lg" id="edit-user-btn" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Update</button>
			</div>
			</form>
		</div>
	</div>
</div>

<!-- DELETE MODAL -->
<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
			</div>
			
			<div class="modal-body">	
				<div class="alert alert-warning"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Record?</div>	
			</div>
			
			<div class="modal-footer ">
				<a id="delete-user"><button type="button" class="btn btn-success"><span class="glyphicon glyphicon-ok-sign"></span> Yes</button></a>
				<button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../static/js/main.js"></script>

</body>
</html>